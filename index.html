<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Studio EDU Professional</title>
    <style>
        :root {
            --primary: #6c5ce7;
            --accent: #00d2ff;
            --glass: rgba(255, 255, 255, 0.88);
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Deep Ocean Chameleon */
        @keyframes oceanMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            margin: 0; min-height: 100vh;
            display: flex; justify-content: center; align-items: center;
            background: linear-gradient(-45deg, #0f2027, #203a43, #2c5364, #00d2ff);
            background-size: 300% 300%;
            animation: oceanMove 20s ease infinite;
            color: #2d3436;
        }

        .container {
            display: grid; grid-template-columns: 380px 520px; gap: 25px;
            max-width: 1000px; width: 95%; position: relative;
        }

        .panel {
            background: var(--glass); backdrop-filter: blur(15px);
            padding: 30px; border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.4);
            transition: 0.3s;
        }

        .header { display: flex; align-items: center; gap: 15px; margin-bottom: 25px; border-bottom: 2px solid var(--primary); padding-bottom: 15px; }
        .logo { width: 60px; height: 60px; border-radius: 50%; border: 2px solid var(--primary); object-fit: cover; background: white; }

        label { display: block; font-size: 0.75rem; font-weight: bold; color: #555; margin: 15px 0 6px; text-transform: uppercase; letter-spacing: 1px; }
        select, input, textarea { 
            width: 100%; padding: 12px; border-radius: 12px; border: 1px solid rgba(0,0,0,0.1);
            font-size: 0.95rem; background: rgba(255,255,255,0.7); outline: none;
        }

        .btn {
            width: 100%; padding: 15px; border: none; border-radius: 15px;
            background: var(--primary); color: white; cursor: pointer;
            font-weight: bold; display: flex; align-items: center; justify-content: center;
            gap: 10px; margin-top: 10px; transition: 0.3s; white-space: nowrap;
        }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(108, 92, 231, 0.3); }

        /* –ü–ª–µ–µ—Ä */
        .cover-box { 
            width: 100%; height: 280px; border-radius: 20px;
            background: #dfe6e9 center/cover no-repeat;
            border: 6px solid #fff; box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            margin-bottom: 20px; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .controls { display: flex; justify-content: center; gap: 20px; margin: 20px 0; }
        .c-btn { 
            width: 60px; height: 60px; border-radius: 20px; border: none;
            background: var(--primary); color: white; font-size: 1.4rem; cursor: pointer;
            transition: 0.2s; display: flex; align-items: center; justify-content: center;
        }
        .c-btn:active { transform: scale(0.9); }
        .c-btn:disabled { background: #b2bec3; cursor: not-allowed; opacity: 0.6; }

        #timer-display { font-size: 1.8rem; font-weight: bold; color: #ff7675; text-align: center; margin-bottom: 10px; font-family: 'Courier New', monospace; }
        
        #lock-screen {
            position: absolute; inset: 0; background: rgba(0,0,0,0.92);
            border-radius: 30px; display: none; flex-direction: column;
            justify-content: center; align-items: center; color: white; z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .visualizer { width: 100%; height: 40px; margin-bottom: 15px; background: rgba(0,0,0,0.05); border-radius: 10px; }

        .badge { background: var(--primary); color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.7rem; font-weight: bold; margin-bottom: 10px; display: inline-block; }
    </style>
</head>
<body>

<div class="container">
    <div id="lock-screen">
        <h1 style="font-size: 3rem; margin-bottom: 10px;">‚åõ Time is up</h1>
        <p>–í–∞—à–µ –≤—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —É—á–∏—Ç–µ–ª—é.</p>
        <button class="btn" onclick="location.reload()" style="width:200px; background: #ff7675;">–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å</button>
    </div>

    <div class="panel">
        <div class="header">
            <img src="7929d202-ccf0-4e08-8785-785e9179ebd0_removalai_preview.png" class="logo" alt="Logo">
            <h2 style="margin:0; font-size: 1.5rem; letter-spacing: -1px;">Audio Studio EDU</h2>
        </div>

        <label>üåê –Ø–∑—ã–∫ –∏–∑—É—á–µ–Ω–∏—è</label>
        <select id="langSelect">
            <option value="de" data-img="germany">Deutsch (–ù–µ–º–µ—Ü–∫–∏–π)</option>
            <option value="ru" data-img="russia">–†—É—Å—Å–∫–∏–π (Russian)</option>
            <option value="en" data-img="london">English (–ê–Ω–≥–ª–∏–π—Å–∫–∏–π)</option>
            <option value="zh" data-img="china">‰∏≠Êñá (–ö–∏—Ç–∞–π—Å–∫–∏–π)</option>
            <option value="fr" data-img="paris">Fran√ßais (–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π)</option>
            <option value="es" data-img="spain">Espa√±ol (–ò—Å–ø–∞–Ω—Å–∫–∏–π)</option>
            <option value="it" data-img="italy">Italiano (–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π)</option>
            <option value="ja" data-img="tokyo">Êó•Êú¨Ë™û (–Ø–ø–æ–Ω—Å–∫–∏–π)</option>
            <option value="tr" data-img="turkey">T√ºrk√ße (–¢—É—Ä–µ—Ü–∫–∏–π)</option>
            <option value="ar" data-img="dubai">ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (–ê—Ä–∞–±—Å–∫–∏–π)</option>
            <option value="ko" data-img="seoul">ÌïúÍµ≠Ïñ¥ (–ö–æ—Ä–µ–π—Å–∫–∏–π)</option>
            <option value="nl" data-img="amsterdam">Nederlands (–ì–æ–ª–ª–∞–Ω–¥—Å–∫–∏–π)</option>
            <option value="pl" data-img="warsaw">Polski (–ü–æ–ª—å—Å–∫–∏–π)</option>
            <option value="sv" data-img="stockholm">Svenska (–®–≤–µ–¥—Å–∫–∏–π)</option>
            <option value="pt" data-img="lisbon">Portugu√™s (–ü–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–π)</option>
            <option value="el" data-img="athens">ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨ (–ì—Ä–µ—á–µ—Å–∫–∏–π)</option>
            <option value="he" data-img="israel">◊¢◊ë◊®◊ô◊™ (–ò–≤—Ä–∏—Ç)</option>
            <option value="hi" data-img="delhi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (–•–∏–Ω–¥–∏)</option>
            <option value="vi" data-img="vietnam">Ti·∫øng Vi·ªát (–í—å–µ—Ç–Ω–∞–º—Å–∫–∏–π)</option>
            <option value="cs" data-img="prague">ƒåe≈°tina (–ß–µ—à—Å–∫–∏–π)</option>
        </select>

        <label>üéì –†–µ–∂–∏–º –æ–±—É—á–µ–Ω–∏—è</label>
        <select id="modeSelect">
            <option value="master">üë®‚Äçüè´ Master Mode (Teacher)</option>
            <option value="study">üßë‚Äçüéì Study Mode (Student)</option>
            <option value="test">üìù Test Mode (Exam)</option>
        </select>

        <div id="modeTools" style="margin-top:20px;">
            <button class="btn" id="slowBtn" style="background:#00b894; display:none;">üê¢ Slow Motion (0.8x)</button>
            <button class="btn" id="loopBtn" style="background:#0984e3; display:none;">üîÑ Loop: Off</button>
        </div>

        <div style="margin-top:25px;">
            <label>üì¶ –ö–æ–¥ iframe –¥–ª—è Genially:</label>
            <textarea id="iframeOutput" readonly style="height:60px; font-size:0.75rem; background: #f1f2f6;"></textarea>
            <button class="btn" id="copyBtn" style="background: var(--primary);">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
        </div>
    </div>

    <div class="panel">
        <div class="badge" id="modeBadge">MASTER MODE</div>
        <div class="cover-box" id="coverArt"></div>
        
        <div id="timer-display" style="display:none;">02:00</div>
        
        <input type="range" id="progressBar" value="0" step="0.1" style="width:100%; accent-color: var(--primary);">
        <div style="display: flex; justify-content: space-between; font-size: 0.85rem; font-family: monospace; font-weight: bold; margin-top: 5px;">
            <span id="curTime">00:00</span>
            <span id="durTime">00:00</span>
        </div>

        <div class="controls">
            <button class="c-btn" id="rewBtn">‚è™</button>
            <button class="c-btn" id="playBtn" style="width:80px; height:80px; border-radius:50%; font-size: 2rem;">‚ñ∂</button>
            <button class="c-btn" id="fwdBtn">‚è©</button>
        </div>

        <div style="border-top: 1px solid #ddd; padding-top: 20px;">
            <label>üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å —É—á–µ–±–Ω—ã–π –∞—É–¥–∏–æ—Ñ–∞–π–ª</label>
            <input type="file" id="audioInput" accept="audio/*">
        </div>
    </div>
</div>

<script>
    const audio = new Audio();
    let playCount = 0;
    let timerInterval;

    const modeSelect = document.getElementById('modeSelect');
    const playBtn = document.getElementById('playBtn');
    const prog = document.getElementById('progressBar');
    const langSelect = document.getElementById('langSelect');
    const coverArt = document.getElementById('coverArt');

    // –°–º–µ–Ω–∞ –æ–±–ª–æ–∂–∫–∏ –ø–æ —è–∑—ã–∫—É
    function updateCover() {
        const keyword = langSelect.selectedOptions[0].dataset.img;
        coverArt.style.backgroundImage = `url('https://source.unsplash.com/featured/?${keyword},landmark')`;
    }
    langSelect.onchange = updateCover;
    updateCover();

    // –õ–æ–≥–∏–∫–∞ —Ä–µ–∂–∏–º–æ–≤
    modeSelect.onchange = () => {
        const mode = modeSelect.value;
        document.getElementById('modeBadge').innerText = mode.toUpperCase() + " MODE";
        document.getElementById('slowBtn').style.display = (mode === 'study') ? 'flex' : 'none';
        document.getElementById('loopBtn').style.display = (mode === 'master') ? 'flex' : 'none';
        document.getElementById('timer-display').style.display = (mode === 'test') ? 'block' : 'none';
        
        // –°–±—Ä–æ—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
        playCount = 0;
        audio.playbackRate = 1;
        audio.loop = false;
        clearInterval(timerInterval);
        prog.disabled = false;
        document.getElementById('rewBtn').disabled = false;
        document.getElementById('fwdBtn').disabled = false;
        document.getElementById('timer-display').innerText = "02:00";
        document.getElementById('timer-display').style.color = "#ff7675";
    };

    // –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ Play
    playBtn.onclick = () => {
        if (!audio.src) return alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª!");
        
        if (audio.paused) {
            const mode = modeSelect.value;
            
            if (mode === 'test') {
                prog.disabled = true;
                document.getElementById('rewBtn').disabled = true;
                document.getElementById('fwdBtn').disabled = true;
                if (!timerInterval) startTestTimer();
            }

            if (mode === 'study') {
                playCount++;
                if (playCount >= 3) {
                    prog.disabled = true;
                    document.getElementById('rewBtn').disabled = true;
                    document.getElementById('fwdBtn').disabled = true;
                    console.log("3-–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ: –ø–µ—Ä–µ–º–æ—Ç–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞");
                }
            }

            audio.play();
            playBtn.innerHTML = '‚è∏';
        } else {
            audio.pause();
            playBtn.innerHTML = '‚ñ∂';
        }
    };

    function startTestTimer() {
        let time = 120;
        timerInterval = setInterval(() => {
            time--;
            let m = Math.floor(time/60), s = time%60;
            document.getElementById('timer-display').innerText = `${m}:${s < 10 ? '0'+s : s}`;
            if (time <= 10) document.getElementById('timer-display').style.color = "red";
            if (time <= 0) {
                audio.pause();
                document.getElementById('lock-screen').style.display = 'flex';
                clearInterval(timerInterval);
            }
        }, 1000);
    }

    // –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    document.getElementById('slowBtn').onclick = function() {
        audio.playbackRate = (audio.playbackRate === 1) ? 0.8 : 1;
        this.innerText = (audio.playbackRate === 0.8) ? "‚ñ∂ Normal Speed 1x" : "üê¢ Slow Motion 0.8x";
    };

    document.getElementById('loopBtn').onclick = function() {
        audio.loop = !audio.loop;
        this.innerText = audio.loop ? "üîÑ Loop: ON" : "üîÑ Loop: OFF";
        this.style.background = audio.loop ? "#6c5ce7" : "#0984e3";
    };

    document.getElementById('audioInput').onchange = (e) => {
        const file = e.target.files[0];
        if (file) audio.src = URL.createObjectURL(file);
    };

    audio.ontimeupdate = () => {
        prog.max = audio.duration || 0;
        prog.value = audio.currentTime;
        const fmt = s => new Date(s * 1000).toISOString().substr(14, 5);
        document.getElementById('curTime').innerText = fmt(audio.currentTime);
        document.getElementById('durTime').innerText = fmt(audio.duration || 0);
    };

    prog.oninput = (e) => audio.currentTime = e.target.value;
    document.getElementById('rewBtn').onclick = () => audio.currentTime -= 10;
    document.getElementById('fwdBtn').onclick = () => audio.currentTime += 10;

    document.getElementById('copyBtn').onclick = () => {
        const code = `<iframe src="${window.location.href}" width="100%" height="750px" frameborder="0" allow="microphone"></iframe>`;
        document.getElementById('iframeOutput').value = code;
        navigator.clipboard.writeText(code);
        alert("–ö–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ Genially —É—Å–ø–µ—à–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!");
    };
</script>
</body>
</html>
