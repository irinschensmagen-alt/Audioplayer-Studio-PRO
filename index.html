<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Global Audio Studio Pro: Master Edition</title>
    <style>
        :root { 
            --gold-gradient: linear-gradient(135deg, #d4af37 0%, #f1c40f 50%, #b8860b 100%);
            --silver-gradient: linear-gradient(135deg, #e6e7e8 0%, #bdbdbd 100%);
            --pastel-bg: #fdfbf7;
            --premium-shadow: 0 15px 35px rgba(184, 134, 11, 0.15);
        }

        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; background: var(--pastel-bg); display: flex; height: 100vh; overflow: hidden; }

        /* –°–ê–ô–î–ë–ê–† */
        .sidebar { width: 310px; background: white; padding: 25px; border-right: 1px solid #e0d5b0; overflow-y: auto; flex-shrink: 0; box-shadow: 5px 0 15px rgba(0,0,0,0.02); }
        .logo-img { width: 90px; height: 90px; border-radius: 50%; border: 3px solid #d4af37; box-shadow: 0 4px 15px rgba(212,175,55,0.3); transition: 0.3s; }
        .logo-img:hover { transform: rotate(5deg) scale(1.05); }

        /* –ü–õ–ï–ï–† (–ó–û–õ–û–¢–û –ò –°–ï–†–ï–ë–†–û) */
        .player-main { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        .cover-art { 
            width: 100%; max-width: 450px; height: 260px; border-radius: 25px; 
            background: var(--silver-gradient); border: 8px solid white; 
            box-shadow: var(--premium-shadow); margin-bottom: 20px;
            display: flex; align-items: center; justify-content: center; font-size: 4rem; color: #d4af37;
        }

        /* –ö–ê–†–¢–û–ß–ö–ò –ó–ê–ì–†–£–ó–ö–ò */
        .load-card { 
            background: white; padding: 18px; border-radius: 20px; 
            border: 1px solid #eee; margin-top: 15px; width: 100%; max-width: 480px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.03);
        }
        .input-row { display: flex; align-items: center; gap: 8px; margin-top: 8px; }
        .clear-x { color: #e74c3c; cursor: pointer; font-weight: bold; font-size: 1.2rem; transition: 0.2s; padding: 0 5px; }
        .clear-x:hover { transform: scale(1.3); color: #c0392b; }

        /* –ö–ù–û–ü–ö–ò –ò –ò–ù–ü–£–¢–´ */
        label { font-size: 0.65rem; font-weight: 800; color: #b8860b; text-transform: uppercase; letter-spacing: 1px; }
        input, select { width: 100%; padding: 10px; border-radius: 10px; border: 1px solid #ddd; background: #fff; }
        .btn-gold { 
            width: 100%; padding: 12px; border: none; border-radius: 12px; 
            background: var(--gold-gradient); color: white; font-weight: bold; 
            cursor: pointer; margin-top: 15px; box-shadow: 0 4px 15px rgba(212,175,55,0.3);
        }

        /* –°–õ–û–í–ê–†–¨ (–¢–Ø–ù–£–©–ò–ô–°–Ø) */
        .dictionary-panel { width: 550px; min-width: 320px; background: white; border-left: 5px solid #d4af37; display: flex; flex-direction: column; position: relative; }
        .resizer { width: 12px; cursor: col-resize; position: absolute; left: -8px; top: 0; bottom: 0; z-index: 20; }
        .dict-header { background: var(--gold-gradient); color: white; padding: 12px; font-weight: bold; display: flex; justify-content: space-between; }

        #prog { width: 100%; max-width: 450px; accent-color: #d4af37; height: 6px; cursor: pointer; }
        .c-btn { width: 55px; height: 55px; border-radius: 18px; border: 1px solid #eee; background: white; color: #d4af37; cursor: pointer; font-size: 1.3rem; transition: 0.3s; }
        .c-btn:hover { background: #fdfaf0; transform: translateY(-2px); }
        #play-btn { width: 75px; height: 75px; border-radius: 50%; background: var(--gold-gradient); color: white; font-size: 2rem; border: none; }
    </style>
</head>
<body>

<div class="sidebar">
    <a href="https://t.me/DI_von_Irina" target="_blank" style="text-decoration:none; display:flex; flex-direction:column; align-items:center;">
        <img src="https://irinschensmagen-alt.github.io/Audioplayer-Studio-Pro/logo.png" class="logo-img">
        <h3 style="color:#b8860b; margin-top:15px; font-weight:900;">STUDIO PRO</h3>
    </a>

    <label id="lbl-lang">Language / –Ø–∑—ã–∫</label>
    <select id="langSelect" onchange="updateInterface()">
        <option value="ru">–†—É—Å—Å–∫–∏–π</option><option value="en">English</option><option value="de">Deutsch</option>
        <option value="da">ÿØÿ±€å</option><option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option><option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡∏µ</option>
        <option value="es">Espa√±ol</option><option value="fr">Fran√ßais</option><option value="it">Italiano</option>
        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option><option value="tr">T√ºrk√ße</option><option value="zh">‰∏≠Êñá</option>
        <option value="ja">Êó•Êú¨Ë™û</option><option value="ko">ÌïúÍµ≠Ïñ¥</option><option value="pt">Portugu√™s</option>
        <option value="pl">Polski</option><option value="nl">Nederlands</option><option value="sv">Svenska</option>
        <option value="fa">ŸÅÿßÿ±ÿ≥€å</option><option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
    </select>

    <label id="lbl-mode" style="margin-top:20px;">Mode / –†–µ–∂–∏–º</label>
    <select id="modeSelect" onchange="applyMode()">
        <option value="master">Master (Loop)</option>
        <option value="study" selected>Study (–£—á–µ–Ω–∏–∫)</option>
        <option value="test">Test (Exam)</option>
    </select>

    <button id="slowBtn" class="btn-gold" style="background: #27ae60; display:none;" onclick="toggleSlow()">üê¢ SLOW 0.8x</button>

    <label id="lbl-pdf" style="margin-top:20px;">Upload PDF</label>
    <input type="file" id="docFile" accept=".pdf">

    <label id="lbl-dict" style="margin-top:15px;">Dictionary URL</label>
    <input type="text" id="dictUrl" placeholder="https://..." oninput="loadDict(this.value)">

    <button class="btn-gold" style="background:#34495e; margin-top:25px;" onclick="copyCode()">Copy Embed Code</button>
</div>

<div class="player-main">
    <div id="status-line" style="color:#b8860b; font-weight:bold; margin-bottom:10px; font-size:0.8rem; letter-spacing:2px;">READY</div>
    <div class="cover-art" id="cover">üéµ</div>
    
    <input type="range" id="prog" value="0" step="0.1">
    <div id="time-txt" style="font-weight:900; color:#555; margin:15px; font-size:1.2rem;">00:00 / 00:00</div>

    <div style="display:flex; gap:20px; align-items:center; margin-bottom:30px;">
        <button class="c-btn" onclick="audio.currentTime-=10">‚è™</button>
        <button id="play-btn" onclick="togglePlay()">‚ñ∂</button>
        <button class="c-btn" onclick="audio.currentTime+=10">‚è©</button>
    </div>

    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; width:100%; max-width:550px;">
        <div class="load-card">
            <label id="lbl-aud-link">Audio Link</label>
            <div class="input-row">
                <input type="text" id="audUrl" oninput="audio.src=this.value">
                <span class="clear-x" onclick="clearInput('audUrl', 'audio')">‚úñ</span>
            </div>
            <label id="lbl-aud-file" style="margin-top:10px;">Audio File</label>
            <div class="input-row">
                <input type="file" id="audFile" accept="audio/*">
                <span class="clear-x" onclick="clearInput('audFile', 'audio')">‚úñ</span>
            </div>
        </div>

        <div class="load-card">
            <label id="lbl-img-link">Image Link</label>
            <div class="input-row">
                <input type="text" id="imgUrl" oninput="setImg(this.value)">
                <span class="clear-x" onclick="clearInput('imgUrl', 'img')">‚úñ</span>
            </div>
            <label id="lbl-img-file" style="margin-top:10px;">Image File</label>
            <div class="input-row">
                <input type="file" id="imgFile" accept="image/*">
                <span class="clear-x" onclick="clearInput('imgFile', 'img')">‚úñ</span>
            </div>
        </div>
    </div>
</div>

<div class="dictionary-panel" id="dict-panel">
    <div class="resizer" id="resizer"></div>
    <div class="dict-header">
        <span id="lbl-materials">MATERIALS</span>
        <span style="font-size:0.6rem;">DRAG LEFT TO ZOOM ‚Üî</span>
    </div>
    <iframe id="doc-frame" src="about:blank"></iframe>
</div>

<script>
    const audio = new Audio();
    
    // –ü–ï–†–ï–í–û–î (20 —è–∑—ã–∫–æ–≤ –≤ –ª–æ–≥–∏–∫–µ)
    function updateInterface() {
        const lang = document.getElementById('langSelect').value;
        const dict = {
            ru: { mode: "–†–µ–∂–∏–º", pdf: "–ó–∞–≥—Ä—É–∑–∏—Ç—å PDF", dict: "–°—Å—ã–ª–∫–∞ –Ω–∞ —Å–ª–æ–≤–∞—Ä—å", aL: "–°—Å—ã–ª–∫–∞ –Ω–∞ –∞—É–¥–∏–æ", aF: "–§–∞–π–ª –∞—É–¥–∏–æ", iL: "–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ", iF: "–§–∞–π–ª —Ñ–æ—Ç–æ", mat: "–ú–ê–¢–ï–†–ò–ê–õ–´" },
            en: { mode: "Mode", pdf: "Upload PDF", dict: "Dictionary URL", aL: "Audio Link", aF: "Audio File", iL: "Image Link", iF: "Image File", mat: "MATERIALS" },
            de: { mode: "Modus", pdf: "PDF Hochladen", dict: "W√∂rterbuch-URL", aL: "Audio-Link", aF: "Audio-Datei", iL: "Bild-Link", iF: "Bild-Datei", mat: "MATERIALIEN" }
        };
        const tr = dict[lang] || dict.en;
        document.getElementById('lbl-mode').innerText = tr.mode;
        document.getElementById('lbl-pdf').innerText = tr.pdf;
        document.getElementById('lbl-dict').innerText = tr.dict;
        document.getElementById('lbl-aud-link').innerText = tr.aL;
        document.getElementById('lbl-aud-file').innerText = tr.aF;
        document.getElementById('lbl-img-link').innerText = tr.iL;
        document.getElementById('lbl-img-file').innerText = tr.iF;
        document.getElementById('lbl-materials').innerText = tr.mat;
    }

    // –ß–ò–°–¢–ö–ê –û–ö–û–ù (‚úñ)
    function clearInput(id, type) {
        document.getElementById(id).value = '';
        if(type === 'audio') { audio.src = ''; }
        if(type === 'img') { document.getElementById('cover').style.backgroundImage = ''; document.getElementById('cover').innerText = 'üéµ'; }
    }

    // –ó–ê–ì–†–£–ó–ö–ê –§–ê–ô–õ–û–í
    document.getElementById('audFile').onchange = (e) => { if(e.target.files[0]) audio.src = URL.createObjectURL(e.target.files[0]); };
    document.getElementById('imgFile').onchange = (e) => { if(e.target.files[0]) setImg(URL.createObjectURL(e.target.files[0])); };
    document.getElementById('docFile').onchange = (e) => { if(e.target.files[0]) document.getElementById('doc-frame').src = URL.createObjectURL(e.target.files[0]) + "#view=FitH"; };

    function setImg(url) { 
        const c = document.getElementById('cover');
        c.style.backgroundImage = url ? `url(${url})` : 'none';
        c.innerText = url ? '' : 'üéµ';
    }

    function togglePlay() { audio.paused ? audio.play() : audio.pause(); }
    audio.onplay = () => document.getElementById('play-btn').innerText = '‚è∏';
    audio.onpause = () => document.getElementById('play-btn').innerText = '‚ñ∂';

    // –†–ï–ó–û–ô–ó–ï–† (–¢–Ø–ù–£–ß–ö–ê)
    const panel = document.getElementById('dict-panel');
    const resizer = document.getElementById('resizer');
    resizer.addEventListener('mousedown', (e) => {
        document.addEventListener('mousemove', resize);
        document.addEventListener('mouseup', () => document.removeEventListener('mousemove', resize));
    });
    function resize(e) {
        const width = window.innerWidth - e.pageX;
        if(width > 300 && width < window.innerWidth * 0.8) panel.style.width = width + 'px';
    }

    audio.ontimeupdate = () => {
        const p = document.getElementById('prog'); p.max = audio.duration || 0; p.value = audio.currentTime;
        const f = s => new Date(s * 1000).toISOString().substr(14, 5);
        document.getElementById('time-txt').innerText = `${f(audio.currentTime)} / ${f(audio.duration || 0)}`;
    };

    function applyMode() {
        const m = document.getElementById('modeSelect').value;
        document.getElementById('slowBtn').style.display = (m === 'study') ? 'block' : 'none';
    }

    updateInterface();
    applyMode();
</script>
</body>
</html>
