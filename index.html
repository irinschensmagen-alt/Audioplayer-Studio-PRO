<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deutsch interaktiv ‚Äì Audio Studio Pro</title>

<style>
:root{
  --bg1:#eef2fb;
  --bg2:#f7f9fd;
  --panel:#ffffff;
  --accent:#9bb3e6;
  --accent-soft:#e4ebfa;
  --text:#2b2b2b;
  --radius:18px;
  --shadow:0 12px 30px rgba(0,0,0,.1);
  font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
}

/* üåà –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–´–ô –§–û–ù ¬´–•–ê–ú–ï–õ–ï–û–ù¬ª */
body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(120deg,var(--bg1),var(--bg2),#f1f6ff);
  background-size:400% 400%;
  animation:bgMove 18s ease infinite;
  display:flex;
  align-items:center;
  justify-content:center;
}

@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* üß© –ü–ê–ù–ï–õ–¨ */
.player{
  width:360px;
  background:var(--panel);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
}

/* üß† HEADER */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:6px;
}

.header h1{
  font-size:15px;
  margin:0;
}

select{
  font-size:12px;
  border-radius:6px;
  padding:2px 4px;
}

/* üñº –û–ë–õ–û–ñ–ö–ê */
.cover{
  margin-top:10px;
  height:140px;
  border-radius:12px;
  background:linear-gradient(135deg,#e6ecfb,#f7f9ff);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:13px;
  color:#666;
}

/* üéµ AUDIO */
audio{
  width:100%;
  margin-top:10px;
}

/* ‚è± –í–†–ï–ú–Ø */
.time{
  display:flex;
  justify-content:space-between;
  font-size:11px;
  margin-top:4px;
}

/* üéõ –ö–ù–û–ü–ö–ò */
.controls{
  display:flex;
  gap:6px;
  margin-top:10px;
  flex-wrap:wrap;
}

button{
  flex:1;
  border:none;
  border-radius:8px;
  padding:6px;
  font-size:12px;
  cursor:pointer;
  background:var(--accent);
  color:white;
}

button.secondary{
  background:var(--accent-soft);
  color:var(--text);
}

/* üîÅ –ü–ï–†–ï–ú–û–¢–ö–ê */
.seek{
  display:flex;
  gap:6px;
  margin-top:6px;
}

.seek button{
  font-size:11px;
}

/* üìÇ –ü–õ–ï–ô–õ–ò–°–¢ */
.playlist{
  margin-top:10px;
  font-size:12px;
}

.playlist div{
  padding:4px;
  border-radius:6px;
  cursor:pointer;
}

.playlist div:hover{
  background:#eef3ff;
}

/* üß™ –†–ï–ñ–ò–ú */
.mode{
  margin-top:6px;
  font-size:11px;
  color:#555;
  text-align:right;
}
</style>
</head>

<body>

<div class="player">

  <div class="header">
    <h1 id="title">Deutsch interaktiv</h1>
    <select id="langSelect"></select>
  </div>

  <div class="cover" id="cover">Audio Studio Pro</div>

  <audio id="audio" controls></audio>

  <div class="time">
    <span id="current">0:00</span>
    <span id="duration">0:00</span>
  </div>

  <div class="seek">
    <button onclick="seek(-10)" class="secondary">‚è™ -10s</button>
    <button onclick="seek(10)" class="secondary">+10s ‚è©</button>
  </div>

  <div class="controls">
    <input type="file" id="upload" accept="audio/*" hidden>
    <button onclick="upload.click()">üìÇ <span data-t="upload">–ó–∞–≥—Ä—É–∑–∏—Ç—å</span></button>
    <button onclick="downloadAudio()" class="secondary">‚¨á <span data-t="download">–°–∫–∞—á–∞—Ç—å</span></button>
  </div>

  <div class="playlist" id="playlist"></div>

  <div class="mode" id="modeLabel">–†–µ–∂–∏–º: –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</div>

</div>

<script>
/* üåç –Ø–ó–´–ö–ò */
const translations={
ru:{upload:"–ó–∞–≥—Ä—É–∑–∏—Ç—å",download:"–°–∫–∞—á–∞—Ç—å"},
en:{upload:"Upload",download:"Download"},
de:{upload:"Hochladen",download:"Herunterladen"},
es:{upload:"Subir",download:"Descargar"},
it:{upload:"Carica",download:"Scarica"},
fr:{upload:"T√©l√©verser",download:"T√©l√©charger"},
zh:{upload:"‰∏ä‰º†",download:"‰∏ãËΩΩ"},
hi:{upload:"‡§Ö‡§™‡§≤‡•ã‡§°",download:"‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°"},
ar:{upload:"ÿ™ÿ≠ŸÖŸäŸÑ",download:"ÿ™ŸÜÿ≤ŸäŸÑ"},
fa:{upload:"ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å",download:"ÿØÿßŸÜŸÑŸàÿØ"},
prs:{upload:"ÿ®ÿßÿ±⁄Øÿ∞ÿßÿ±€å",download:"ÿØÿßŸÜŸÑŸàÿØ"}
};

const langSelect=document.getElementById("langSelect");
Object.keys(translations).forEach(l=>{
  const o=document.createElement("option");
  o.value=l;o.text=l.toUpperCase();
  langSelect.appendChild(o);
});

langSelect.onchange=()=>{
  document.querySelectorAll("[data-t]").forEach(el=>{
    el.textContent=translations[langSelect.value][el.dataset.t];
  });
};
langSelect.value="ru";
langSelect.onchange();

/* üéµ AUDIO LOGIC */
const audio=document.getElementById("audio");
const upload=document.getElementById("upload");
const playlist=document.getElementById("playlist");
const current=document.getElementById("current");
const duration=document.getElementById("duration");

let tracks=[];
let currentURL=null;

upload.onchange=e=>{
  const f=e.target.files[0];
  if(!f)return;
  const url=URL.createObjectURL(f);
  tracks.push({name:f.name,url});
  play(url);
  render();
};

function play(url){
  currentURL=url;
  audio.src=url;
  audio.play().catch(()=>{});
}

function render(){
  playlist.innerHTML="";
  tracks.forEach(t=>{
    const d=document.createElement("div");
    d.textContent=t.name;
    d.onclick=()=>play(t.url);
    playlist.appendChild(d);
  });
}

audio.ontimeupdate=()=>{
  current.textContent=format(audio.currentTime);
  duration.textContent=format(audio.duration);
};

function format(t){
  if(!t)return"0:00";
  const m=Math.floor(t/60);
  const s=Math.floor(t%60).toString().padStart(2,"0");
  return`${m}:${s}`;
}

/* üîÅ –ü–ï–†–ï–ú–û–¢–ö–ê */
function seek(sec){
  audio.currentTime=Math.max(0,Math.min(audio.duration,audio.currentTime+sec));
}

/* ‚¨á –°–ö–ê–ß–ò–í–ê–ù–ò–ï */
function downloadAudio(){
  if(!currentURL)return;
  const a=document.createElement("a");
  a.href=currentURL;
  a.download="audio";
  a.click();
}
</script>

</body>
</html>
