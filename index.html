<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Audio Studio v8.0 - Professional</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --p: #38bdf8; --bg: #0f172a; }
        body, html { margin: 0; padding: 0; height: 100%; font-family: 'Inter', sans-serif; background: #020617; color: #fff; overflow: hidden; }
        .app { display: flex; height: 100vh; }
        /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .side { width: 380px; background: var(--bg); padding: 25px; border-right: 1px solid #1e293b; display: flex; flex-direction: column; gap: 15px; overflow-y: auto; box-sizing: border-box; }
        h2 { color: var(--p); font-size: 20px; margin: 0; font-weight: 700; text-transform: uppercase; }
        .f { display: flex; flex-direction: column; gap: 5px; }
        label { font-size: 10px; color: #94a3b8; text-transform: uppercase; font-weight: 800; }
        input, select { background: #1e293b; border: 1px solid #334155; border-radius: 8px; padding: 10px; color: #fff; outline: none; }
        input[type="range"] { padding: 0; accent-color: var(--p); }
        .btn { background: linear-gradient(135deg, #38bdf8, #818cf8); color: white; border: none; padding: 15px; border-radius: 12px; font-weight: 700; cursor: pointer; margin-top: 10px; }
        /* –†–∞–±–æ—á–∞—è –∑–æ–Ω–∞ */
        .main { flex-grow: 1; display: flex; align-items: center; justify-content: center; background: #020617; }
        #preview { border-radius: 30px; overflow: hidden; background: #000; }
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–ª–∏–≤–∞ */
        @keyframes rainbow { 0% { color: #ff0000; } 25% { color: #00ff00; } 50% { color: #0000ff; } 75% { color: #ffff00; } 100% { color: #ff0000; } }
        .rainbow-text { animation: rainbow 5s linear infinite; font-weight: 800; font-size: 12px; }
    </style>
</head>
<body>
<div class="app">
    <aside class="side">
        <h2>Audio Studio v8.0</h2>
        <div class="rainbow-text">ANIMATED COLOR MODE ACTIVE</div>
        
        <div class="f"><label>–¶–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞:</label><input type="color" id="c" value="#38bdf8"></div>
        <div class="f"><label>GitHub URL (–ü–∞–ø–∫–∞ audio):</label><input type="text" id="u" value="https://github.com/irinschensmagen-alt/audioplayer/tree/main/audio"></div>
        <div class="f"><label>–§–æ–Ω –ø–ª–µ–µ—Ä–∞ (URL):</label><input type="text" id="b" value="https://images.unsplash.com/photo-1483354483454-4cd359948304?w=800"></div>
        
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div class="f"><label>–®–∏—Ä–∏–Ω–∞ (px):</label><input type="number" id="w" value="350"></div>
            <div class="f"><label>–í—ã—Å–æ—Ç–∞ (px):</label><input type="number" id="h" value="500"></div>
        </div>

        <div class="f"><label>–ù–∞—á–∞–ª—å–Ω–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å:</label><input type="range" id="v" min="0" max="1" step="0.1" value="0.7"></div>
        
        <button class="btn" onclick="copy()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è Genially</button>
    </aside>
    <main class="main"><div id="preview"></div></main>
</div>

<script>
    function draw() {
        const col = document.getElementById('c').value;
        const url = document.getElementById('u').value.trim();
        const bg = document.getElementById('b').value.trim();
        const width = document.getElementById('w').value;
        const height = document.getElementById('h').value;
        const vol = document.getElementById('v').value;
        
        document.documentElement.style.setProperty('--p', col);

        let api, raw;
        try {
            const p = url.replace('https://github.com/', '').split('/');
            const user = p[0], repo = p[1], branch = p[3] || 'main', path = p.slice(4).join('/');
            api = `https://api.github.com/repos/${user}/${repo}/contents/${path}?ref=${branch}`;
            raw = `https://raw.githubusercontent.com/${user}/${repo}/${branch}/${path}`;
        } catch(e) {}

        const playerHTML = `
<div id="player" style="width:100%; height:100%; position:relative; background:url('${bg}') center/cover no-repeat; font-family:sans-serif; overflow:hidden;">
    <div style="position:absolute; inset:0; background:rgba(0,0,0,0.3); backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);"></div>
    
    <div style="position:relative; z-index:2; height:100%; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:20px; box-sizing:border-box; color:white;">
        <img src="${raw}/cover.jpg" id="cv" style="width:120px; height:120px; border-radius:20px; object-fit:cover; border:2px solid white; margin-bottom:15px;" onerror="this.src='https://via.placeholder.com/120?text=Music'">
        
        <div id="title" style="font-weight:700; font-size:18px; text-align:center; height:45px; overflow:hidden; margin-bottom:10px;">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        
        <div style="display:flex; align-items:center; gap:20px; margin-bottom:20px;">
            <button onclick="pPr()" style="background:none; border:none; color:white; font-size:24px; cursor:pointer;">‚èÆ</button>
            <button onclick="pPl()" id="pb" style="width:60px; height:60px; background:white; color:black; border-radius:50%; border:none; font-size:24px; cursor:pointer; display:flex; align-items:center; justify-content:center;">‚ñ∂</button>
            <button onclick="pNe()" style="background:none; border:none; color:white; font-size:24px; cursor:pointer;">‚è≠</button>
        </div>

        <input type="range" id="prog" value="0" style="width:100%; accent-color:${col}; margin-bottom:15px; cursor:pointer;">
        
        <div style="display:flex; align-items:center; gap:10px; width:100%;">
            <span style="font-size:12px;">üîà</span>
            <input type="range" id="vol" min="0" max="1" step="0.1" value="${vol}" style="flex-grow:1; accent-color:${col}; height:4px;">
        </div>

        <button onclick="tL()" style="margin-top:20px; background:rgba(255,255,255,0.2); border:1px solid rgba(255,255,255,0.3); color:white; padding:8px 15px; border-radius:20px; font-size:12px; cursor:pointer; font-weight:700;">–ü–õ–ï–ô–õ–ò–°–¢</button>
    </div>

    <div id="list" style="position:absolute; inset:0; background:rgba(0,0,0,0.9); z-index:5; display:none; padding:30px; overflow-y:auto; box-sizing:border-box;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <b style="color:white;">–ü–ª–µ–π–ª–∏—Å—Ç</b>
            <button onclick="tL()" style="background:none; border:none; color:${col}; font-weight:900; cursor:pointer;">–ó–ê–ö–†–´–¢–¨</button>
        </div>
        <div id="items" style="color:white; font-size:14px; display:flex; flex-direction:column; gap:10px;"></div>
    </div>
    
    <audio id="aud" crossorigin="anonymous"></audio>
</div>

<style>
    @keyframes rainbow_bg { 0% { border-color: #ff0000; } 25% { border-color: #00ff00; } 50% { border-color: #0000ff; } 75% { border-color: #ffff00; } 100% { border-color: #ff0000; } }
    #prog { animation: rainbow_bg 5s linear infinite; }
</style>

<script>
(function(){
    const a=document.getElementById('aud'), t=document.getElementById('title'), b=document.getElementById('pb'), 
          pr=document.getElementById('prog'), vl=document.getElementById('vol'), lst=document.getElementById('list'), items=document.getElementById('items');
    let trk=[], cur=0;

    fetch
